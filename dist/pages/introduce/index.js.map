{"version":3,"file":"pages/introduce/index.js","sources":["webpack:///._src_pages_introduce_index.js","webpack:///./src/pages/introduce/index.js?be63","webpack:///._src_pages_introduce_index.scss"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Taro, { getCurrentInstance } from '@tarojs/taro';\nimport { View, Image, Text } from '@tarojs/components';\nimport { AtButton } from 'taro-ui';\nimport './index.scss';\n\n@connect(({ questionnaires }) => ({\n  questionnaires: questionnaires.list,\n}))\nclass Introduce extends Component {\n  state = {\n    questionnaireId: '',\n  }\n\n  componentDidMount() {\n    const { router } = getCurrentInstance();\n    const { questionnaireId } = router.params;\n    this.setState({ questionnaireId: parseInt(questionnaireId) });\n  }\n\n  // auto invoke when share\n  onShareAppMessage() {\n    const { questionnaireId } = this.state;\n    return {\n      title: '问卷测评',\n      path: `/pages/introduce/index?questionnaireId=${questionnaireId}`,\n    }\n  }\n\n  handleAnswer = () => {\n    const { questionnaireId } = this.state;\n    Taro.navigateTo({ url: `/pages/questionnaire/index?questionnaireId=${questionnaireId}` });\n  }\n\n  render() {\n    const { questionnaires } = this.props;\n    const { questionnaireId } = this.state;\n    console.log(questionnaireId);\n    const questionnaire = questionnaires.find(item => item.id === questionnaireId) || {};\n    const { title, imageUrl, duration, description } = questionnaire;\n    const questionSize = (questionnaire.questions || []).length;\n    return (\n      <View className='page'>\n        <View className='doc-body bg'>\n          <View className='head'>\n            <View className='image'>\n              <Image src={imageUrl} />\n              <Text>{title}</Text>\n            </View>\n            <View className='desc'>\n              <Text>\n                {questionSize} 道题\n              </Text>\n              <Text>\n                {duration} 分钟\n              </Text>\n            </View>\n            <View className='btns'>\n              <AtButton circle type='secondary' openType='share'>分享好友</AtButton>\n              <AtButton circle type='primary' onClick={this.handleAnswer}>开始答题</AtButton>\n            </View>\n          </View>\n          <View className='panel desc'>\n            <View className='panel__title title'>问卷简介</View>\n            <View className='panel__content no-padding txt'>\n              <Text>\n                {description}\n              </Text>\n            </View>\n          </View>\n        </View>\n      </View>\n    )\n  }\n}\n\nexport default Introduce\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js!./index.js\"\nvar config = {\"navigationBarTitleText\":\"问卷简介\",\"navigationBarBackgroundColor\":\"#F0F0F0\",\"backgroundColor\":\"#F0F0F0\"};\n\ncomponent.enableShareAppMessage = true\nvar inst = Page(createPageConfig(component, 'pages/introduce/index', {root:{cn:[]}}, config || {}))\n\n\n","// extracted by mini-css-extract-plugin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAKA;AAHA;AAAA;AACA;AADA;AAAA;;;;;;;;;;;;;;;;AAIA;AACA;AADA;AACA;AAkBA;AACA;AACA;AAAA;AAAA;;;;;;;;AAjBA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAGA;AACA;;;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;;;AAOA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAFA;AAIA;AAAA;AACA;AAAA;AAGA;AAAA;AAJA;AAQA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAbA;AAkBA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AADA;AAFA;AAnBA;AADA;AA+BA;;;;AAhEA;AAmEA;;;;;;;;;;;;;AC7EA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;;;;A","sourceRoot":""}